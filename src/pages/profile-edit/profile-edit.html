<!--
  Generated template for the ProfileEditPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

 <ion-header>

  <ion-navbar color="primary">
    <ion-title>{{pageTitle}}</ion-title>

    <ion-buttons end>
      <button ion-button   (click)="submitForm(profileForm.value, $event)" 
        *ngIf="profileForm.controls && 
          (profileForm.controls['email'] 
          || profileForm.controls['username']
          || profileForm.controls['nickname'])">

         <ion-icon id="submit-mark" name="checkmark" isActive="true"></ion-icon>

      </button>

    </ion-buttons>
  </ion-navbar>

</ion-header> 
 

<ion-content>

   <form [formGroup]="profileForm" novalidate *ngIf="profileForm.controls">

       <!-- 修改邮箱  -->
      <ion-list *ngIf="profileForm.controls['email']">
          <ion-item>
              <ion-input type="text"   formControlName="email"  placeholder="请输入邮箱"></ion-input>
          </ion-item>
      </ion-list>

      <!-- 修改用户名  -->
      <ion-list *ngIf="profileForm.controls['username']">
          <ion-item>
              <ion-input type="text"   formControlName="username"  placeholder="请输入用户名"></ion-input>
          </ion-item>
      </ion-list>

      <!-- 修改昵称  -->
      <ion-list *ngIf="profileForm.controls['nickname']">
          <ion-item>
              <ion-input type="text"   formControlName="nickname"  placeholder="请输入昵称"></ion-input>
          </ion-item>
      </ion-list>

   
      <!-- 修改手机号码  -->
      <ion-list   *ngIf="profileForm.controls['mobile']">
        
          <ion-item>
                <ion-input type="text"  formControlName="mobile" placeholder="手机号码"></ion-input>
          </ion-item>

    
          <ion-item>
              <ion-input type="text"   formControlName="code" placeholder="验证码"></ion-input>
              
              <button    type="button" ion-button outline item-end icon-left  class="code-button" [disabled]="!codeButtonActive" 
                         (click)="getCode(event)">
                  {{codeButtonTitle}}
              </button>
          </ion-item> 

          <div padding>
              <button   type="submit" ion-button block color="danger" 
                        [disabled]="!profileForm.valid" (click)="submitForm(profileForm.value, $event)" >
                    修改
              </button>  
          </div>

      </ion-list>

  </form>


  <p>Form value: {{ profileForm.value | json }}</p>

</ion-content>
